{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/utils/DBHelper.js","webpack:///./src/js/utils/index.js","webpack:///./src/js/config/index.js","webpack:///./src/js/controllers/PageController.js","webpack:///./src/index.js","webpack:///./src/js/config/config.prod.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","installedModules","2","__webpack_require__","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","head","document","getElementsByTagName","script","createElement","charset","timeout","nc","setAttribute","src","p","0","1","jsonpScriptSrc","setTimeout","onScriptComplete","type","target","event","onerror","onload","clearTimeout","chunk","errorType","realSrc","error","Error","request","undefined","appendChild","all","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","bind","slice","s","DBHelper","id","_ref","size","arguments","concat","this","BASE_URL","_ref2","fetch","DB_URL","then","response","ok","json","results","restaurants","catch","fetchRestaurants","filter","restaurantId","fetchRestaurant","_ref3","reviews","Math","max","round","reduce","a","rating","toFixed","_config__WEBPACK_IMPORTED_MODULE_0__","HOST","PORT","__webpack_exports__","getUrlParameter","param","URLSearchParams","location","search","replace","RegExp","exec","decodeURIComponent","loadGoogleMaps","node","body","MAPS_KEY","makeImage","srcset","sizes","alt","className","image","_DBHelper__WEBPACK_IMPORTED_MODULE_1__","restaurantImgUrl","generateStarsHtml","star","docFrag","createDocumentFragment","textContent","tmp","cloneNode","makeStarRating","div","container","top","bottom","average","acc","review","averageRating","style","width","registerSW","navigator","serviceWorker","register","registration","config","default","MODE","controllers_PageController","render","currentRoute","IndexController","RestaurantController","pathname","utils"],"mappings":"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","file":"./js/app.min.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t2: 0\n \t};\n\n\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"./js/\" + ({\"0\":\"restaurant\",\"1\":\"home\"}[chunkId]||chunkId) + \".min.js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\t\tvar script = document.createElement('script');\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tfunction onScriptComplete(event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\thead.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","import config from '../config';\n\nclass DBHelper {\n  static get BASE_URL() {\n    return `${config.HOST}${config.PORT && `:${config.PORT}`}`;\n  }\n\n  static get DB_URL(){\n    return `./data/restaurants.json`;\n  }\n\n  static restaurantImgUrl({ id, size }, relative = true) {\n    return (relative)\n     ? `./images/${id}-${size}.jpg`\n     : `${this.BASE_URL}/images/${id}-${size}.jpg`;\n  }\n\n  static restaurantUrl({ id }, relative = true) {\n    return (relative)\n     ? `./restaurant.html?id=${id}`\n     : `${this.BASE_URL}/restaurant.html?id=${id}`;\n  }\n\n  static fetchRestaurants() {\n    return fetch(this.DB_URL)\n      .then(response => {\n        if(!response.ok) {\n          throw Error('Unable to retrieve restaurant data');\n        }\n        \n        return response.json();\n      })\n      .then(results => results.restaurants)\n      .catch(console.error);\n  }\n\n  static fetchRestaurant(id) {\n    return this.fetchRestaurants()\n      .then(restaurants => restaurants.filter(r => r.id === id)[0]);\n  }\n\n  static calculateAverageReview(restaurantId) {\n    return this.fetchRestaurant(restaurantId)\n      .then(({ reviews }) => {\n        if (!reviews) return 0;\n\n        // Stand back, we're going to try mathematics!\n        return Math.max(\n                Math.round(\n                  (reviews.reduce((a, c) => a + c.rating, 0) / reviews.length) * 10\n                ) / 10, 1\n              ).toFixed(1);\n      })\n      .catch(console.error);\n  }\n};\n\nexport default DBHelper;\n","import config from '../config';\nimport DBHelper from './DBHelper';\n\n/**\n * Returns the value of the specified query string parameter \n * of the current URI.\n */\nconst getUrlParameter = param => {\n  if (!param) return;\n\n  // If URLSearchParams is supported, use that\n  if (URLSearchParams) {\n    const urlParams = new URLSearchParams(location.search);\n    return urlParams.get(param);\n  }\n\n  // Otherwise, parse the param using regular expressions\n  param = param.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n  const regex = new RegExp(`[\\\\?&]${param}=([^&#]*)`);\n  const results = regex.exec(location.search);\n  return results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n};\n\n/**\n * Appends the Google Maps API script at the end of the document.body \n * or the specified node, if provided.\n * @param {HTMLElement} node \n */\nconst loadGoogleMaps = (node = document.body) => {\n  const script = document.createElement('script');\n\n  script.setAttribute('src', `https://maps.googleapis.com/maps/api/js?key=${config.MAPS_KEY}&callback=initMap`);\n  script.setAttribute('async', '');\n  script.setAttribute('defer', '');\n  node.appendChild(script);\n};\n\n/**\n * Makes a responsive image and returns it\n */\nconst makeImage = ({id, src, srcset, sizes, alt, className}, onload) => {\n  const image = document.createElement('img');\n  srcset = srcset || `${DBHelper.restaurantImgUrl({ id, size: 'small' })} 400w,\n                      ${DBHelper.restaurantImgUrl({ id, size: 'medium' })} 600w,\n                      ${DBHelper.restaurantImgUrl({ id, size: 'large' })} 800w`;\n\n  image.className = className;\n  image.setAttribute('src', src);\n  image.setAttribute('alt', alt);\n  image.setAttribute('srcset', srcset);\n  image.setAttribute('sizes', sizes);\n\n  image.onload = event => {\n    if (onload) {\n      onload(image);\n    }\n  };\n\n  return image;\n};\n\n/**\n * Calculates average rating percentage\n */\nconst averageRating = reviews => {\n  const TOP_RATING = 5;\n  const total = reviews.reduce((acc, review) => {\n    return acc + review.rating;\n  }, 0);\n\n  return (total / (reviews.length * TOP_RATING) * 100);\n};\n\n/**\n * Generates the stars used for the ratings\n */\nconst generateStarsHtml = () => {\n  const RATING_LIMIT = 5;\n  const star = document.createElement('span');\n  const docFrag = document.createDocumentFragment();\n\n  star.textContent = '★';\n  \n  for (let i=RATING_LIMIT; i>0; i--) {\n    let tmp = star.cloneNode(true);\n    docFrag.appendChild(tmp);\n  }\n\n  return docFrag;\n}\n\n/**\n * Generates the HTML output for a star rating\n */\nconst generateStarRatingHtml = rating => {\n  const div = document.createElement('div');\n\n  const container = div.cloneNode();\n  const top = div.cloneNode();\n  const bottom = div.cloneNode();\n\n  container.className = 'star-rating__container';\n\n  top.className = 'star-rating__top';\n  top.style.width = `${rating}%`;\n  top.appendChild(generateStarsHtml());\n  container.appendChild(top);\n\n  bottom.className = 'star-rating__bottom';\n  bottom.appendChild(generateStarsHtml());\n  container.appendChild(bottom);\n\n  return container;\n};\n\n/**\n * Returns star rating for given reviews\n */\nconst makeStarRating = reviews => {\n  const average = averageRating(reviews);\n  return generateStarRatingHtml(average);\n};\n\n/**\n * Registers the Service Worker\n */\nconst registerSW = () => {\n  if (!navigator.serviceWorker) return;\n\n  navigator.serviceWorker.register('/sw.js')\n    .then(registration => {\n      // Do nothing...\n    })\n    .catch(console.error);\n};\n\nexport {\n  getUrlParameter,\n  loadGoogleMaps,\n  makeImage,\n  makeStarRating,\n  registerSW,\n};\n","let config = null;\n\n// module.hot will be true in development and false in production\nif (module.hot) {\n  config = require('./config.dev').default;\n  config.MODE = 'development';\n}\nelse {\n  // import config.prod.js and export it\n  config = require('./config.prod').default;\n  config.MODE = 'production';\n}\n\nexport default config;\n","/**\n * Generic page controller that determines which page to load.\n * This top-level controller allows for lazy loading page-specific\n * javascript to improve page loading speed.\n */\nconst PageController = {\n  render() {\n    // Lazy load the correct page controller depending on the current route\n    switch(this.currentRoute()) {\n      case '/':\n        import(/*webpackChunkName: \"home\" */ './IndexController')\n          .then(IndexController => {\n            IndexController.default.render();\n          });\n\n        break;\n      case '/restaurant':\n        import(/*webpackChunkName: \"restaurant\" */ './RestaurantController')\n          .then(RestaurantController => {\n            RestaurantController.default.render();\n          });\n\n        break;\n    }\n  },\n\n  /**\n   * Determines the current route based on the URI\n   */\n  currentRoute() {\n    return window.location.pathname.replace(/\\.[^/.]+$/, '');\n  }\n};\n\nexport default PageController;","import config from './js/config';\nimport PageController from './js/controllers/PageController';\nimport { registerSW } from './js/utils';\nimport './styles/main.scss';\n\n// If we are in production, register the service worker\nif (config.MODE === 'production') {\n  registerSW();\n}\n\n// Render the application\nPageController.render();\n","const config = {\n  HOST: 'https://restaurant-reviews.netlify.com',\n  PORT: '',\n  MAPS_KEY: 'AIzaSyCdhHwjurnlDda3XtpLrysWGsobzpRdpM8'\n};\n\nexport default config;\n"],"sourceRoot":""}