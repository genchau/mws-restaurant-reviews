!function(t){function e(e){for(var n,a,o=e[0],c=e[1],u=0,s=[];u<o.length;u++)a=o[u],r[a]&&s.push(r[a][0]),r[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);for(i&&i(e);s.length;)s.shift()()}var n={},r={2:0};function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise(function(e,a){n=r[t]=[e,a]});e.push(n[2]=o);var c=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,a.nc&&u.setAttribute("nonce",a.nc),u.src=function(t){return a.p+"./js/"+({0:"restaurant",1:"home"}[t]||t)+".min.js"}(t);var i=setTimeout(function(){s({type:"timeout",target:u})},12e4);function s(e){u.onerror=u.onload=null,clearTimeout(i);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,c=new Error("Loading chunk "+t+" failed.\n("+a+": "+o+")");c.type=a,c.request=o,n[1](c)}r[t]=void 0}}u.onerror=u.onload=s,c.appendChild(u)}return Promise.all(e)},a.m=t,a.c=n,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},a.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a.oe=function(t){throw console.error(t),t};var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var i=c;a(a.s=4)}([function(t,e,n){"use strict";var r=n(2);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"restaurantImgUrl",value:function(t){var e=t.id,n=t.size;return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?"./images/".concat(e,"-").concat(n,".jpg"):"".concat(this.BASE_URL,"/images/").concat(e,"-").concat(n,".jpg")}},{key:"restaurantUrl",value:function(t){var e=t.id;return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?"./restaurant.html?id=".concat(e):"".concat(this.BASE_URL,"/restaurant.html?id=").concat(e)}},{key:"fetchRestaurants",value:function(){return fetch(this.DB_URL).then(function(t){if(!t.ok)throw Error("Unable to retrieve restaurant data");return t.json()}).then(function(t){return t.restaurants}).catch(console.error)}},{key:"fetchRestaurant",value:function(t){return this.fetchRestaurants().then(function(e){return e.filter(function(e){return e.id===t})[0]})}},{key:"calculateAverageReview",value:function(t){return this.fetchRestaurant(t).then(function(t){var e=t.reviews;return e?Math.max(Math.round(e.reduce(function(t,e){return t+e.rating},0)/e.length*10)/10,1).toFixed(1):0}).catch(console.error)}},{key:"BASE_URL",get:function(){return"".concat(r.a.HOST).concat(r.a.PORT&&":".concat(r.a.PORT))}},{key:"DB_URL",get:function(){return"./data/restaurants.json"}}],(n=null)&&a(e.prototype,n),o&&a(e,o),t}();e.a=o},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return u}),n.d(e,"d",function(){return s}),n.d(e,"e",function(){return l});var r=n(2),a=n(0),o=function(t){if(t){if(URLSearchParams)return new URLSearchParams(location.search).get(t);t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]".concat(t,"=([^&#]*)")).exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,e=document.createElement("script");e.setAttribute("src","https://maps.googleapis.com/maps/api/js?key=".concat(r.a.MAPS_KEY,"&callback=initMap")),e.setAttribute("async",""),e.setAttribute("defer",""),t.appendChild(e)},u=function(t,e){var n=t.id,r=t.src,o=t.srcset,c=t.sizes,u=t.alt,i=t.className,s=document.createElement("img");return o=o||"".concat(a.a.restaurantImgUrl({id:n,size:"small"})," 400w,\n                      ").concat(a.a.restaurantImgUrl({id:n,size:"medium"})," 600w,\n                      ").concat(a.a.restaurantImgUrl({id:n,size:"large"})," 800w"),s.className=i,s.setAttribute("src",r),s.setAttribute("alt",u),s.setAttribute("srcset",o),s.setAttribute("sizes",c),s.onload=function(t){e&&e(s)},s},i=function(){var t=document.createElement("span"),e=document.createDocumentFragment();t.textContent="â˜…";for(var n=5;n>0;n--){var r=t.cloneNode(!0);e.appendChild(r)}return e},s=function(t){var e,n,r,a,o,c=function(t){return t.reduce(function(t,e){return t+e.rating},0)/(5*t.length)*100}(t);return e=c,n=document.createElement("div"),r=n.cloneNode(),a=n.cloneNode(),o=n.cloneNode(),r.className="star-rating__container",a.className="star-rating__top",a.style.width="".concat(e,"%"),a.appendChild(i()),r.appendChild(a),o.className="star-rating__bottom",o.appendChild(i()),r.appendChild(o),r},l=function(){navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js").then(function(t){}).catch(console.error)}},function(t,e,n){"use strict";var r=null;(r=n(7).default).MODE="production",e.a=r},,function(t,e,n){"use strict";n.r(e);var r=n(2),a={render:function(){switch(this.currentRoute()){case"/":n.e(1).then(n.bind(null,6)).then(function(t){t.default.render()});break;case"/restaurant":n.e(0).then(n.bind(null,5)).then(function(t){t.default.render()})}},currentRoute:function(){return window.location.pathname.replace(/\.[^/.]+$/,"")}},o=n(1);n(12);"production"===r.a.MODE&&Object(o.e)(),a.render()},,,function(t,e,n){"use strict";n.r(e);e.default={HOST:"https://restaurant-reviews.netlify.com",PORT:"",MAPS_KEY:"AIzaSyCdhHwjurnlDda3XtpLrysWGsobzpRdpM8"}},,,,,function(t,e){}]);
//# sourceMappingURL=app.min.js.map